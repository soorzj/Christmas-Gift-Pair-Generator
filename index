<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<link rel="stylesheet" href="https://use.typekit.net/xsv7ttb.css">
<link rel="stylesheet" href="https://use.typekit.net/ley4mbj.css">
<link rel="stylesheet" href="https://use.typekit.net/xxx7upe.css">
<title>Christmas Pair Selector</title>
<style>
    body {
        margin: 0;
        font-family: "Poppins", sans-serif;
        background: linear-gradient(to bottom, #0d1b2a, #1b263b);
        color: white;
        overflow-x: hidden;
        font-family: "tuppence", serif;
        font-weight: 400;
        font-style: normal;
    }

    h1 {
        text-align: center;
        margin-top: 20px;
        font-size: 40px;
        color: #ffdf6b;
        text-shadow: 0 0 10px #ff3b3b;
        font-family: "rosella-flourish", sans-serif;
        font-weight: 400;
        font-style: normal;
    }

    .container {
        max-width: 800px;
        margin: 30px auto;
        padding: 20px;
    }

    textarea {
        width: 100%;
        height: 180px;
        font-family: "ltc-remington-typewriter-pro", sans-serif;
font-weight: 800;
font-style: italic;
        border-radius: 10px;
        border: 2px solid #ffdf6b;
        padding: 10px;
        font-size: 16px;
        outline: none;
        background: rgba(255,255,255,0.1);
        color: white;
    margin-bottom: 35px;
    }

#studentInput {
    resize: none;   /* disables the drag-to-resize handle */
}

/* scrollbar*/
#studentInput::-webkit-scrollbar {
    width: 10px;
}

#studentInput::-webkit-scrollbar-track {
    background: rgba(255, 255, 255, 0.12);
    border-radius: 10px;
}

#studentInput::-webkit-scrollbar-thumb {
    background: linear-gradient(180deg, #ff6b6b, #c62828);
    border-radius: 10px;
    box-shadow: 0 0 6px rgba(255, 60, 60, 0.6);
}

#studentInput::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(180deg, #ff7f7f, #e84040);
}


    button {
	    width:280px;
        height:60px;
        font-family: "tuppence", serif;
        font-weight: 400;
        font-style: normal;
        margin-top: 20px;
        background: #e84c3d;
        color: white;
        border: none;
        font-size: 20px;
        padding: 12px 30px;
        border-radius: 8px;
        cursor: pointer;
        transition: 0.3s;
        display: block;
        margin-left: auto;
        margin-right: auto;
        box-shadow: 0 0 10px rgba(255,255,255,0.3);
    }
    button:hover {
        transform: scale(1.05);
        box-shadow: 0 0 18px rgba(255,255,255,0.6);
        background: #ff3b3b;
    }

    #result {
        margin-top: 25px;
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
        gap: 20px;
        animation: fade 0.8s ease;
    }

    .pair-card {
        background: rgba(255,255,255,0.1);
        border-left: 6px solid #ffdf6b;
        padding: 18px;
        border-radius: 12px;
        text-align: center;
        font-size: 18px;
        backdrop-filter: blur(4px);
        animation: pop 0.4s ease;
    }

    .footer {
        text-align: center;
        margin: 25px 0;
        font-size: 15px;
        color: #ddd;
    }

    @keyframes pop {
        from {transform: scale(0.7); opacity: 0;}
        to {transform: scale(1); opacity: 1;}
    }

    @keyframes fade {
        from {opacity: 0;}
        to {opacity: 1;}
    }

/* Snow Overlay Layer */
#snowLayer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    pointer-events: none; /* Do NOT block clicks */
    overflow: hidden;
    z-index: 9999;
}

.snowflake {
    position: absolute;
    color: white;
    opacity: 0.9;
    font-weight: bold;
    user-select: none;
    pointer-events: none;
    text-shadow: 0 0 12px rgba(255,255,255,0.8);
    will-change: transform;
}
/* BUTton selected*/
.pair-card {
    position: relative;
    cursor: pointer;
    transition: 0.25s;
}

/* When marked as completed */
.pair-card.gift-done {
    background: rgba(0, 255, 120, 0.22);
    border-left: 6px solid #00e676;
    box-shadow: 0 0 12px rgba(0,255,120,0.6);
}

/* Checkmark badge */
.pair-card.gift-done::after {
    content: "‚úî Gift Exchanged";
    position: absolute;
    bottom: 8px;
    right: 12px;
    font-size: 14px;
    color: #00ff9d;
    font-weight: bold;
    text-shadow: 0 0 6px rgba(0,255,140,0.7);
}

/* Roll number adder*/
/* Layout fix for Roll Inputs + Buttons */
.range-box {
    width: 280px; /* same width as Fill & Generate buttons */
    margin: 0 auto; /* centers the whole row */
    display: flex;
    justify-content: space-between;
    font-family: "tuppence", serif;
        font-weight: 400;
        font-style: normal;
gap: 12px;   
}

#startRoll, #endRoll {
    width: 48%; /* half of the button width */
    font-family: "tuppence", serif;
        font-weight: 400;
        font-style: normal;
}

/* Fill button alignment */
#fillRollsBtn {
    width: 280px; /* EXACT same width as Generate Pairs button */
    display: block;
    margin: 16px auto 0 auto;
}
.range-box input {
    width: 140px;        
height:40px;
     /* centers the whole group */
    border-radius: 8px;
    border: none;
    outline: none;
    text-align: center;
    font-size: 20px;
    font-weight: 600;
    padding: 10px;
    color: #5a0000;
}


/* placeholder color */
.range-box input::placeholder {
    color: #b85a5a;
    opacity: 0.8;
}

/* Warning popup overlay */
.warning-popup {
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.65);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 999;
}

/* Popup box */
.warning-box {
    padding: 22px 30px;
    max-width: 340px;
    text-align: center;
    animation: popupIn 0.25s ease;

    /* Matching textarea theme */
    background: rgba(0, 0, 0, 0.39);
    border: 2px solid #ffdf6b;
    border-radius: 14px;
    box-shadow: 0 0 12px rgba(255, 60, 60, 0.55);

    color: white;
}

.warning-box h3 {
    margin: 0 0 10px;
    color: #f49236; /* soft warm gold */
}

.warning-box p {
    margin: 0 0 12px;
    color: #fff6e6;
}

.popup-btn {
    width: 100%;
    margin-top: 12px;
    padding: 10px;
    border: none;
    border-radius: 10px;
    font-weight: 600;
    cursor: pointer;
    background: linear-gradient(145deg, #ff7777, #c62828);
    color: white;
    transition: 0.2s ease;
}

.popup-btn:hover {
    background: linear-gradient(145deg, #ff7777, #c62828);
}

/* Cancel button style */
.popup-btn.cancel {
    background: linear-gradient(145deg, #ff7777, #c62828);
    color: white;
}

/* Animation */
@keyframes popupIn {
    from { transform: scale(0.85); opacity: 0; }
    to   { transform: scale(1); opacity: 1; }
}


</style>
</head>

<body>
    
<div class="snow"></div>
<h1>üéÑ Christmas Pair Selector üéÅ</h1>

<div class="container">
    <textarea id="studentInput" placeholder="Enter student names separated by comma or newline, or use the roll number generator..."></textarea>
<div class="range-box">
    <input type="number" id="startRoll" placeholder="Start roll">
    <input type="number" id="endRoll" placeholder="End roll">
</div>
    <button id="fillRollsBtn">Fill Roll Numbers</button>
    <button onclick="pairStudents()">‚ú® Generate Pairs ‚ú®</button>

    <div id="result"></div>
</div>

<div id="oddWarning" class="warning-popup">
    <div class="warning-box">
        <h3>‚ö† Uneven Number of Names</h3>
        <p>The list has an odd number of students. One person will not get paired.</p>
        <button id="continueOddBtn" class="popup-btn">Continue Anyway</button>
        <button id="editNamesBtn" class="popup-btn cancel">Re-edit Names List</button>
    </div>
</div>

<div class="footer">Made with ‚ù§Ô∏è for Christmas celebrations by soorzj</div>

<script>
function pairStudents() {
    let input = document.getElementById("studentInput").value.trim();
    if (!input) return;

    let names = input
        .split(/[\n,]+/)
        .map(x => x.trim())
        .filter(x => x.length > 0);

	 if (names.length % 2 !== 0 && !window.allowOddContinue) {
        document.getElementById("oddWarning").style.display = "flex";
        return;
    }
    window.allowOddContinue = false; // reset after use
    // Shuffle
    for (let i = names.length - 1; i > 0; i--) {
        let j = Math.floor(Math.random() * (i + 1));
        [names[i], names[j]] = [names[j], names[i]];
    }

    let resultDiv = document.getElementById("result");
    resultDiv.innerHTML = "";


    for (let i = 0; i < names.length; i += 2) {
        let a = names[i];
        let b = names[i + 1] || "üéÖ (no pair available)";
        let card = document.createElement("div");
        card.className = "pair-card";
        card.innerHTML = `<strong>${a}</strong><br> ü§ù <br><strong>${b}</strong>`;
        card.addEventListener("click", () => {
    card.classList.toggle("gift-done");
});
resultDiv.appendChild(card);
    }
}
// Continue even if odd number of names
document.getElementById("continueOddBtn").addEventListener("click", () => {
    window.allowOddContinue = true;
    document.getElementById("oddWarning").style.display = "none";
    generatePairs();
});

// Re-edit names list
document.getElementById("editNamesBtn").addEventListener("click", () => {
    document.getElementById("oddWarning").style.display = "none";
});
/*snow flakes*/

const snowLayer = document.createElement("div");
snowLayer.id = "snowLayer";
document.body.appendChild(snowLayer);

const snowChars = ["‚ùÖ","‚ùÑ","‚úº","‚úª"];
let mouseX = window.innerWidth / 2;

window.addEventListener("mousemove", (e) => {
  mouseX = e.clientX;

});

function spawnSnowflake() {
  const flake = document.createElement("div");
  flake.className = "snowflake";
  flake.textContent = snowChars[Math.floor(Math.random() * snowChars.length)];

  const size = Math.random() * 0.9 + 0.6;
  const startX = Math.random() * window.innerWidth;

  flake.style.fontSize = `${size}rem`;
  flake.style.left = `${startX}px`;
  flake.style.top = `-20px`;

  snowLayer.appendChild(flake);

  let y = -20;
  let x = startX;
  const speed = Math.random() * 1.2 + 0.3;
  const swing = Math.random() * 1 + 0.4;    // sideways swaying effect
  const driftFactor = Math.random() * 0.04 + 0.01;

  function fall() {
    y += speed;
	
    let drift =  0.5;
    x += drift * swing * 0.5;


    flake.style.transform = `translate(${x - startX}px, ${y}px) rotate(${y * 0.4}deg)`;

    if (y < window.innerHeight + 50) requestAnimationFrame(fall);
    else flake.remove();
  }

  fall();
}

setInterval(spawnSnowflake, 500);


/* roll number*/
document.getElementById("fillRollsBtn").addEventListener("click", function () {
    const a = parseInt(document.getElementById("startRoll").value);
    const b = parseInt(document.getElementById("endRoll").value);

    if (isNaN(a) || isNaN(b) || a > b) {
        alert("Enter valid integers (A ‚â§ B)");
        return;
    }

    let rollList = "";
    for (let i = a; i <= b; i++) {
        rollList += i + "\n";
    }

    document.getElementById("studentInput").value = rollList.trim();
});


</script>


</body>
</html>
